<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Chat_List</title>
    <link rel="stylesheet" href="styles/reset.css">
    <link rel="stylesheet" href="styles/cha_list.css">
    <script src="js/rem.js"></script>
</head>

<body>
    <div id="app">
        <div class="top flex flex-between align-items">
            <div></div>
            <h1>Chat</h1>
            <a href=""><img class="editer-icon" src="images/editedit.png" alt=""></a>
        </div>
        <div class="full-up">
        </div>
        <div class="search flex flex-center align-items">
            <a href="">
                <img src="images/serch.png" alt="">
            </a>
            <form action="">
                <input type="text" placeholder="Search for messages or users">
            </form>
        </div>
        <section class="list">
            <ul>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/user_1.png" alt="Alisa Make">
                            </div>
                            <div>
                                <h3>Alisa Make <span><span>11.53</span><i class="done"></i></span></h3>
                                <p>When he's not off making one of his beautifully idiosyncratic films, the director ...
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>

                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314926.png" alt="Erick Scott">
                            </div>
                            <div>
                                <h3>Erick Scott<span><span>10.46</span><i class="done"></i></span></h3>
                                <p>
                                    In his Parisian apartment and office, no doubt decorated as charmingly as his movie
                                    sets ...
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/user_1.png" alt="Alisa Make">
                            </div>
                            <div>
                                <h3>Alisa Make<span><span>19.24</span><i class="done chec-icon"></i></span></h3>
                                <p>
                                    In his Parisian apartment and office, no doubt decorated as charmingly as his movie
                                    sets ...
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314929.png" alt="Madalena Scott">
                            </div>
                            <div>
                                <h3>Madalena Scott <span><span>15.09.2016</span><i class="done"></i></span></h3>
                                <p>When he's not off making one of his beautifully idiosyncratic films, the director ...
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/man2.png" alt="Tony Cooper">
                            </div>
                            <div>
                                <h3>Tony Cooper<span><span>13.09.2016</span><i class="done chec-icon"></i></span></h3>
                                <p>When he's not off making one of his beautifully idiosyncratic films, the director ...
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314926.png" alt="Bob Kristian">
                            </div>
                            <div>
                                <h3>Bob Kristian <span><span>10.09.2016</span><i class="done"></i></span></h3>
                                <p>
                                    Check out these wild terra cotta terrine bowls, once used for serving up supper at
                                    royal hunting lodges
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314926.png" alt="Bob Kristian">
                            </div>
                            <div>
                                <h3>Bob Kristian <span><span>10.09.2016</span><i class="done"></i></span></h3>
                                <p>
                                    Check out these wild terra cotta terrine bowls, once used for serving up supper at
                                    royal hunting lodges
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314926.png" alt="Bob Kristian">
                            </div>
                            <div>
                                <h3>Bob Kristian <span><span>10.09.2016</span><i class="done"></i></span></h3>
                                <p>
                                    Check out these wild terra cotta terrine bowls, once used for serving up supper at
                                    royal hunting lodges
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="container-div flex">
                        <div class="flex">
                            <div class="list-left">
                                <img src="images/314926.png" alt="Bob Kristian">
                            </div>
                            <div>
                                <h3>Bob Kristian <span><span>10.09.2016</span><i class="done"></i></span></h3>
                                <p>
                                    Check out these wild terra cotta terrine bowls, once used for serving up supper at
                                    royal hunting lodges
                                </p>
                            </div>
                            <i class="delete-icon"></i>
                        </div>
                    </div>
                </li>
            </ul>
        </section>
        <div class="full-footer"></div>
        <footer class="chat-list-footer flex flex-between">
            <a href="contacts.html"><i class="user-icon"></i></a>
            <a href="chat_list.html"><i class="outline-talk-icon"></i></a>
            <a href=""><i class="setting-icon"></i></a>
        </footer>
    </div>
    <script>
        //侧滑显示删除按钮
        var expansion = null; //是否存在展开的list
        var container = document.querySelectorAll('.list li .container-div');
        for (var i = 0; i < container.length; i++) {
            var x, y, X, Y, swipeX, swipeY;
            container[i].addEventListener('touchstart', function (event) {
                x = event.changedTouches[0].pageX;
                y = event.changedTouches[0].pageY;
                swipeX = true;
                swipeY = true;
            });
            container[i].addEventListener('touchmove', function (event) {
                X = event.changedTouches[0].pageX;
                Y = event.changedTouches[0].pageY;
                // 左右滑动
                if (swipeX && Math.abs(X - x) - Math.abs(Y - y) > 0) {
                    // 阻止事件冒泡
                    event.stopPropagation();
                    if (X - x > 15) {   //右滑
                        event.preventDefault();
                        this.className = "";    //右滑收起
                    }
                    if (x - X > 15) {   //左滑
                        event.preventDefault();
                        this.className = "swipeleft";   //左滑展开
                        expansion = this;
                    }
                    swipeY = false;
                }
                // 上下滑动
                if (swipeY && Math.abs(X - x) - Math.abs(Y - y) < 0) {
                    swipeX = false;
                }
            });
        }
        var i = document.querySelectorAll('.list li .delete-icon');
        i.forEach(function (item, index) {
            console.log(item)
            i[index].onclick = function () {
                this.parentNode.parentNode.parentNode.style.display = "none";
            };
        });
    </script>
</body>
</html>